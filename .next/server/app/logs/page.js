(()=>{var e={};e.id=745,e.ids=[745],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1722:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>h,tree:()=>c}),t(6809),t(1506),t(5866);var a=t(3191),l=t(8716),r=t(7922),n=t.n(r),i=t(5231),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);t.d(s,d);let c=["",{children:["logs",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,6809)),"C:\\Users\\Ad\\Desktop\\授权后台\\app\\logs\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,1506)),"C:\\Users\\Ad\\Desktop\\授权后台\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\Users\\Ad\\Desktop\\授权后台\\app\\logs\\page.tsx"],x="/logs/page",m={require:t,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/logs/page",pathname:"/logs",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},655:(e,s,t)=>{Promise.resolve().then(t.bind(t,8905))},7402:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,2994,23)),Promise.resolve().then(t.t.bind(t,6114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,9671,23)),Promise.resolve().then(t.t.bind(t,1868,23)),Promise.resolve().then(t.t.bind(t,4759,23))},6903:()=>{},8905:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>n});var a=t(326),l=t(7577),r=t(7553);function n(){let[e,s]=(0,l.useState)([]),[t,n]=(0,l.useState)(!0),[i,d]=(0,l.useState)(1),[c,o]=(0,l.useState)(1),[x,m]=(0,l.useState)({licenseId:"",action:"",result:"",operator:"",startDate:"",endDate:""}),h=(e,s)=>{m(t=>({...t,[e]:s})),d(1)},u=e=>a.jsx("span",{className:`status-badge ${"success"===e?"status-active":"status-revoked"}`,children:e}),p=e=>a.jsx("span",{className:`status-badge ${{validate:"bg-blue-100 text-blue-800",activate:"bg-green-100 text-green-800",revoke:"bg-red-100 text-red-800",expire:"bg-yellow-100 text-yellow-800",unbind:"bg-orange-100 text-orange-800",create:"bg-purple-100 text-purple-800",renew:"bg-indigo-100 text-indigo-800"}[e]||"bg-gray-100 text-gray-800"}`,children:e});return(0,a.jsxs)("div",{children:[a.jsx(r.Z,{}),a.jsx("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"px-4 py-6 sm:px-0",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"操作日志"}),(0,a.jsxs)("div",{className:"card mb-6",children:[a.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"过滤条件"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"授权ID"}),a.jsx("input",{type:"text",value:x.licenseId,onChange:e=>h("licenseId",e.target.value),className:"input",placeholder:"授权ID"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"操作类型"}),(0,a.jsxs)("select",{value:x.action,onChange:e=>h("action",e.target.value),className:"input",children:[a.jsx("option",{value:"",children:"全部"}),a.jsx("option",{value:"validate",children:"验证"}),a.jsx("option",{value:"activate",children:"激活"}),a.jsx("option",{value:"revoke",children:"撤销"}),a.jsx("option",{value:"expire",children:"过期"}),a.jsx("option",{value:"unbind",children:"解绑"}),a.jsx("option",{value:"create",children:"创建"}),a.jsx("option",{value:"renew",children:"续期"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"结果"}),(0,a.jsxs)("select",{value:x.result,onChange:e=>h("result",e.target.value),className:"input",children:[a.jsx("option",{value:"",children:"全部"}),a.jsx("option",{value:"success",children:"成功"}),a.jsx("option",{value:"fail",children:"失败"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"操作者"}),(0,a.jsxs)("select",{value:x.operator,onChange:e=>h("operator",e.target.value),className:"input",children:[a.jsx("option",{value:"",children:"全部"}),a.jsx("option",{value:"admin",children:"管理员"}),a.jsx("option",{value:"client",children:"客户端"}),a.jsx("option",{value:"system",children:"系统"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"开始时间"}),a.jsx("input",{type:"datetime-local",value:x.startDate,onChange:e=>h("startDate",e.target.value),className:"input"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"结束时间"}),a.jsx("input",{type:"datetime-local",value:x.endDate,onChange:e=>h("endDate",e.target.value),className:"input"})]})]}),a.jsx("div",{className:"mt-4 flex gap-2",children:a.jsx("button",{onClick:()=>m({licenseId:"",action:"",result:"",operator:"",startDate:"",endDate:""}),className:"btn btn-secondary",children:"清除过滤"})})]}),(0,a.jsxs)("div",{className:"card",children:[t?a.jsx("div",{className:"animate-pulse",children:a.jsx("div",{className:"h-64 bg-gray-200 rounded"})}):a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"table",children:[a.jsx("thead",{children:(0,a.jsxs)("tr",{children:[a.jsx("th",{children:"时间"}),a.jsx("th",{children:"操作"}),a.jsx("th",{children:"结果"}),a.jsx("th",{children:"授权码"}),a.jsx("th",{children:"详情"}),a.jsx("th",{children:"操作者"}),a.jsx("th",{children:"IP"})]})}),a.jsx("tbody",{children:e.map(e=>(0,a.jsxs)("tr",{children:[a.jsx("td",{children:new Date(e.created_at).toLocaleString()}),a.jsx("td",{children:p(e.action)}),a.jsx("td",{children:u(e.result)}),a.jsx("td",{className:"font-mono text-sm",children:e.licenses?.license_key||"-"}),a.jsx("td",{className:"max-w-xs truncate",children:e.detail||"-"}),a.jsx("td",{children:e.operator||"-"}),a.jsx("td",{className:"font-mono text-xs",children:e.ip||"-"})]},e.id))})]})}),c>1&&a.jsx("div",{className:"flex justify-center mt-6",children:(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>d(Math.max(1,i-1)),disabled:1===i,className:"btn btn-secondary disabled:opacity-50",children:"上一页"}),(0,a.jsxs)("span",{className:"px-4 py-2 text-sm text-gray-700",children:["第 ",i," 页，共 ",c," 页"]}),a.jsx("button",{onClick:()=>d(Math.min(c,i+1)),disabled:i===c,className:"btn btn-secondary disabled:opacity-50",children:"下一页"})]})})]})]})})]})}},7553:(e,s,t)=>{"use strict";t.d(s,{Z:()=>i});var a=t(326),l=t(434),r=t(5047);let n=[{name:"仪表盘",href:"/"},{name:"授权管理",href:"/licenses"},{name:"激活记录",href:"/activations"},{name:"操作日志",href:"/logs"}];function i(){let e=(0,r.usePathname)();return a.jsx("nav",{className:"bg-white shadow-sm border-b",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"flex justify-between h-16",children:(0,a.jsxs)("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0 flex items-center",children:a.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"授权管理系统"})}),a.jsx("div",{className:"hidden sm:ml-6 sm:flex sm:space-x-8",children:n.map(s=>{let t=e===s.href;return a.jsx(l.default,{href:s.href,className:`inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium ${t?"border-blue-500 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"}`,children:s.name},s.name)})})]})})})})}},1506:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>i,metadata:()=>n});var a=t(9510),l=t(7366),r=t.n(l);t(7272);let n={title:"授权管理系统",description:"软件授权码管理系统"};function i({children:e}){return a.jsx("html",{lang:"zh-CN",children:a.jsx("body",{className:r().className,children:a.jsx("div",{className:"min-h-screen bg-gray-50",children:e})})})}},6809:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(8570).createProxy)(String.raw`C:\Users\Ad\Desktop\授权后台\app\logs\page.tsx#default`)},7272:()=>{}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[276,82,496],()=>t(1722));module.exports=a})();