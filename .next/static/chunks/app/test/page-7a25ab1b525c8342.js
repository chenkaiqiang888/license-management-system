(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[928],{2021:function(e,t,s){Promise.resolve().then(s.bind(s,8895))},8895:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return i}});var n=s(7437),a=s(2265);function i(){let[e,t]=(0,a.useState)(""),[s,i]=(0,a.useState)(!1),r=async()=>{i(!0);try{let e=await fetch("/api/licenses"),s=await e.json();s.success?t("✅ API 测试成功！授权列表接口正常工作"):t("❌ API 返回错误: "+(s.error||"未知错误"))}catch(e){t("❌ API 测试失败: "+(e instanceof Error?e.message:String(e)))}finally{i(!1)}},c=async()=>{i(!0);try{let e=await fetch("/api/licenses/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({startTime:new Date().toISOString(),endTime:new Date(Date.now()+2592e6).toISOString(),maxActivations:1,note:"测试授权"})}),s=await e.json();s.success?t("✅ 创建授权成功！授权码: "+s.data.license_key):t("❌ 创建授权失败: "+(s.error||"未知错误"))}catch(e){t("❌ 创建授权测试失败: "+(e instanceof Error?e.message:String(e)))}finally{i(!1)}};return(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,n.jsxs)("div",{className:"max-w-md w-full bg-white rounded-lg shadow-md p-6",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:"系统测试"}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("button",{onClick:r,disabled:s,className:"w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 disabled:opacity-50",children:s?"测试中...":"测试 API 连接"}),(0,n.jsx)("button",{onClick:c,disabled:s,className:"w-full bg-green-600 text-white py-2 px-4 rounded hover:bg-green-700 disabled:opacity-50",children:s?"测试中...":"测试创建授权"})]}),e&&(0,n.jsxs)("div",{className:"mt-6 p-4 bg-gray-100 rounded",children:[(0,n.jsx)("h3",{className:"font-semibold mb-2",children:"测试结果:"}),(0,n.jsx)("p",{className:"text-sm",children:e})]}),(0,n.jsx)("div",{className:"mt-6 text-center",children:(0,n.jsx)("a",{href:"/",className:"text-blue-600 hover:text-blue-800",children:"← 返回首页"})})]})})}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=2021)}),_N_E=e.O()}]);